<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" styleClass="dashboard-root, app-background">
    <!-- Top Header -->
    <top>
        <HBox alignment="CENTER_LEFT" styleClass="header">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20" />
            </padding>
            
            <Label text="Employee Management System" styleClass="dashboard-title">
                <effect>
                    <DropShadow color="#00000022" radius="2" spread="0.05" />
                </effect>
            </Label>
            
            <Region HBox.hgrow="ALWAYS" />
            
            <!-- Search Bar -->
            <HBox alignment="CENTER" spacing="10" styleClass="search-container">
                <TextField promptText="Search..." styleClass="search-field" prefWidth="200" />
                <Button styleClass="search-button">
                    <graphic>
                        <Label text="🔍" />
                    </graphic>
                </Button>
            </HBox>
            
            <!-- User Menu -->
            <Button styleClass="user-menu-button">
                <graphic>
                    <HBox alignment="CENTER" spacing="10">
                        <Circle radius="15" styleClass="user-avatar" fill="#f0e6ff" />
                        <Label text="Admin" textFill="white" />
                    </HBox>
                </graphic>
            </Button>
        </HBox>
    </top>
    
    <!-- Left Navigation Sidebar -->
    <left>
        <VBox styleClass="sidebar, fade-in" prefWidth="220" spacing="15">
            <padding>
                <Insets top="25" right="15" bottom="25" left="15" />
            </padding>
            
            <!-- User Profile Section -->
            <VBox alignment="CENTER" spacing="12" styleClass="profile-section">
                <StackPane>
                    <Circle radius="45" styleClass="profile-circle" />
                    <Label text="A" styleClass="profile-initial" />
                </StackPane>
                <Label text="Admin User" styleClass="profile-name" />
                <Label text="Administrator" styleClass="profile-role" />
                <Separator opacity="0.3" />
            </VBox>
            
            <!-- Navigation Buttons -->
            <Label text="MAIN MENU" styleClass="nav-section-label" />
            
            <Button text="Dashboard" styleClass="nav-button, nav-button-active">
                <graphic>
                    <Label text="📊" />
                </graphic>
            </Button>
            
            <Button text="Employees" styleClass="nav-button">
                <graphic>
                    <Label text="👥" />
                </graphic>
            </Button>
            
            <Button text="Departments" styleClass="nav-button">
                <graphic>
                    <Label text="🏢" />
                </graphic>
            </Button>
            
            <Button text="Reports" styleClass="nav-button">
                <graphic>
                    <Label text="📈" />
                </graphic>
            </Button>
            
            <Label text="SETTINGS" styleClass="nav-section-label" />
            
            <Button text="User Settings" styleClass="nav-button">
                <graphic>
                    <Label text="👤" />
                </graphic>
            </Button>
            
            <Button text="System Settings" styleClass="nav-button">
                <graphic>
                    <Label text="⚙️" />
                </graphic>
            </Button>
            
            <Region VBox.vgrow="ALWAYS" /> <!-- Spacer -->
            
            <Button text="Logout" styleClass="nav-button, logout-button" onAction="#handleLogout">
                <graphic>
                    <Label text="🚪" />
                </graphic>
            </Button>
        </VBox>
    </left>
    
    <!-- Main Content Area -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="content-area">
            <VBox spacing="25" styleClass="dashboard-content, slide-in">
                <padding>
                    <Insets top="30" right="30" bottom="30" left="30" />
                </padding>
                
                <!-- Welcome Banner -->
                <HBox styleClass="welcome-banner" alignment="CENTER_LEFT" spacing="15">
                    <padding>
                        <Insets top="25" right="30" bottom="25" left="30" />
                    </padding>
                    <VBox spacing="5">
                        <Label text="Hello, Admin!" styleClass="welcome-text" />
                        <Label text="Welcome back to your dashboard" styleClass="welcome-subtext" />
                    </VBox>
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="View Profile" styleClass="secondary-button" />
                </HBox>
                
                <!-- Stats Cards Row -->
                <HBox spacing="20" alignment="CENTER">
                    <!-- Total Employees Card -->
                    <VBox styleClass="stat-card" prefWidth="220" prefHeight="150" alignment="CENTER">
                        <Label text="👥" styleClass="stat-icon" />
                        <Label text="Total Employees" styleClass="card-title" />
                        <Label text="248" styleClass="stat-number" />
                        <HBox alignment="CENTER" spacing="5">
                            <Label text="↑" textFill="#6bcb77" />
                            <Label text="12% from last month" styleClass="stat-trend-up" />
                        </HBox>
                    </VBox>
                    
                    <!-- Departments Card -->
                    <VBox styleClass="stat-card" prefWidth="220" prefHeight="150" alignment="CENTER">
                        <Label text="🏢" styleClass="stat-icon" />
                        <Label text="Departments" styleClass="card-title" />
                        <Label text="8" styleClass="stat-number" />
                        <HBox alignment="CENTER" spacing="5">
                            <Label text="Active departments" styleClass="stat-period" />
                        </HBox>
                    </VBox>
                    
                    <!-- New Hires Card -->
                    <VBox styleClass="stat-card" prefWidth="220" prefHeight="150" alignment="CENTER">
                        <Label text="🆕" styleClass="stat-icon" />
                        <Label text="New Hires" styleClass="card-title" />
                        <Label text="18" styleClass="stat-number" />
                        <HBox alignment="CENTER" spacing="5">
                            <Label text="This Month" styleClass="stat-period" />
                        </HBox>
                    </VBox>
                </HBox>
                
                <!-- Recent Activity Section -->
                <VBox spacing="15" styleClass="section-container">
                    <HBox alignment="CENTER_LEFT">
                        <Label text="Recent Activity" styleClass="section-title" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Button text="View All" styleClass="secondary-button" />
                    </HBox>
                    
                    <TableView prefHeight="250" styleClass="table-view">
                        <columns>
                            <TableColumn text="Date" prefWidth="120" />
                            <TableColumn text="Employee" prefWidth="150" />
                            <TableColumn text="Action" prefWidth="200" />
                            <TableColumn text="Details" prefWidth="180" />
                        </columns>
                        
                        <!-- Sample data rows would be populated from the controller -->
                    </TableView>
                </VBox>
                
                <!-- Quick Actions Section -->
                <HBox spacing="20">
                    <VBox spacing="15" styleClass="section-container" HBox.hgrow="ALWAYS">
                        <Label text="Quick Actions" styleClass="section-title" />
                        
                        <HBox spacing="15">
                            <Button text="Add Employee" styleClass="action-button">
                                <graphic>
                                    <Label text="➕" />
                                </graphic>
                            </Button>
                            
                            <Button text="Generate Report" styleClass="action-button">
                                <graphic>
                                    <Label text="📊" />
                                </graphic>
                            </Button>
                            
                            <Button text="Send Notification" styleClass="action-button">
                                <graphic>
                                    <Label text="🔔" />
                                </graphic>
                            </Button>
                        </HBox>
                    </VBox>
                    
                    <VBox spacing="15" styleClass="section-container" prefWidth="250">
                        <Label text="System Status" styleClass="section-title" />
                        
                        <VBox spacing="10">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Circle radius="5" fill="#6bcb77" />
                                <Label text="Database: Online" />
                            </HBox>
                            
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Circle radius="5" fill="#6bcb77" />
                                <Label text="API Services: Running" />
                            </HBox>
                            
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Circle radius="5" fill="#6bcb77" />
                                <Label text="Last Backup: Today 09:30" />
                            </HBox>
                        </VBox>
                    </VBox>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
    
    <fx:script>
        function handleLogout() {
            ui.FXMLScriptHandlers.handleLogout("LoginPage.fxml");
        }
    </fx:script>
</BorderPane>
